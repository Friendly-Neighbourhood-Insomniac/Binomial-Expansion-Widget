<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binomial Expansion Visualizer</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script type="importmap">
    {
        "imports": {
            "katex": "https://esm.sh/katex@0.16.8",
            "chart.js": "https://esm.sh/chart.js@4.4.0",
            "chartjs-adapter-date-fns": "https://esm.sh/chartjs-adapter-date-fns@3.0.0"
        }
    }
    </script>
  <script type="module" crossorigin src="/assets/index-Dn6k2vdG.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-Cmu7vpIy.css">
</head>
<body data-theme="light">
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark/light mode">
        <span class="theme-icon">🌙</span>
    </button>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorialOverlay">
        <div class="tutorial-content">
            <div class="tutorial-header">
                <h2>Welcome to Binomial Expansion Visualizer</h2>
                <button class="tutorial-close" id="tutorialClose">×</button>
            </div>
            <div class="tutorial-body" id="tutorialBody">
                <div class="tutorial-step active" data-step="0">
                    <h3>🎯 Getting Started</h3>
                    <p>This interactive tool helps you explore the binomial theorem: <strong>(a + b)ⁿ</strong></p>
                    <p>You'll learn through multiple visualization modes and interactive features.</p>
                    <div class="tutorial-features">
                        <ul>
                            <li>📊 2D Charts and Pascal's Triangle</li>
                            <li>🌐 3D Surface Visualizations</li>
                            <li>🧮 Step-by-Step Algebraic Breakdown</li>
                            <li>✨ Interactive Animations and Effects</li>
                        </ul>
                    </div>
                </div>
                <div class="tutorial-step" data-step="1">
                    <h3>🎛️ Control Panel - Your Command Center</h3>
                    <p>The control panel on the left is where you'll adjust all parameters:</p>
                    <div class="tutorial-controls">
                        <p><strong>Power (n):</strong> Changes the exponent of your binomial expression</p>
                        <p><strong>Coefficients (a, b):</strong> Modify the terms in your binomial</p>
                        <p><strong>Evaluate at x:</strong> See numerical results for specific values</p>
                        <p><strong>Animation Controls:</strong> Customize visual effects and speed</p>
                    </div>
                    <p>💡 <em>Try dragging the power slider to see real-time changes!</em></p>
                </div>
                <div class="tutorial-step" data-step="2">
                    <h3>📊 2D Visualization Tab - Charts & Pascal's Triangle</h3>
                    <p>The 2D tab shows traditional mathematical visualizations:</p>
                    <div class="tutorial-2d">
                        <p><strong>📈 Interactive Chart:</strong> Displays binomial coefficients and term values</p>
                        <p><strong>🔺 Pascal's Triangle:</strong> Shows the famous number pattern</p>
                        <p><strong>📝 Terms Breakdown:</strong> Lists each term in the expansion</p>
                    </div>
                    <p>🎯 <em>Click on Pascal's triangle numbers to highlight corresponding terms!</em></p>
                </div>
                <div class="tutorial-step" data-step="3">
                    <h3>🌐 3D Surface Plot Tab - Spatial Mathematics</h3>
                    <p>Experience binomial coefficients in three dimensions:</p>
                    <div class="tutorial-3d">
                        <p><strong>🎮 Interactive 3D Scene:</strong> Rotate, zoom, and explore</p>
                        <p><strong>🏔️ Surface Visualization:</strong> See coefficient patterns as landscapes</p>
                        <p><strong>🎨 Color Coding:</strong> Heights and colors represent coefficient values</p>
                        <p><strong>🔄 Auto-Rotate:</strong> Automatic camera movement for better viewing</p>
                    </div>
                    <p>🖱️ <em>Use mouse to rotate, scroll to zoom, and try the control buttons!</em></p>
                </div>
                <div class="tutorial-step" data-step="4">
                    <h3>🧮 Step-by-Step Tab - Learn the Process</h3>
                    <p>Perfect for understanding the mathematical derivation:</p>
                    <div class="tutorial-steps">
                        <p><strong>📚 Formula Explanation:</strong> See the binomial theorem formula</p>
                        <p><strong>🔢 Term Calculation:</strong> Watch how each term is computed</p>
                        <p><strong>➡️ Navigation:</strong> Move through each step at your own pace</p>
                        <p><strong>🎯 Detailed Breakdown:</strong> Understand coefficient × power calculations</p>
                    </div>
                    <p>📖 <em>Use the Previous/Next buttons to navigate through the derivation!</em></p>
                </div>
                <div class="tutorial-step" data-step="5">
                    <h3>✨ Animation Features - Bring Math to Life</h3>
                    <p>Enhance your learning with visual effects:</p>
                    <div class="tutorial-animations">
                        <p><strong>🎭 Smooth Transitions:</strong> Watch expansions morph between powers</p>
                        <p><strong>⭐ Particle Effects:</strong> Visual feedback for interactions</p>
                        <p><strong>🌊 Staggered Animations:</strong> Pascal's triangle builds row by row</p>
                        <p><strong>⚡ Speed Control:</strong> Adjust animation timing to your preference</p>
                    </div>
                    <p>🎨 <em>Enable "Particle Effects" and "Animate Terms" for the full experience!</em></p>
                </div>
                <div class="tutorial-step" data-step="6">
                    <h3>🌓 Theme & Accessibility - Customize Your Experience</h3>
                    <p>Personalize the interface for optimal learning:</p>
                    <div class="tutorial-accessibility">
                        <p><strong>🌙 Dark/Light Mode:</strong> Toggle with the button in the top-right</p>
                        <p><strong>📱 Responsive Design:</strong> Works on desktop, tablet, and mobile</p>
                        <p><strong>⌨️ Keyboard Shortcuts:</strong> Use arrow keys in step-by-step mode</p>
                        <p><strong>🎯 Hover Effects:</strong> Discover interactive elements by hovering</p>
                    </div>
                    <p>♿ <em>The interface adapts to your accessibility preferences automatically!</em></p>
                </div>
                <div class="tutorial-step" data-step="7">
                    <h3>🚀 Advanced Tips - Master the Tool</h3>
                    <p>Pro tips to get the most out of your exploration:</p>
                    <div class="tutorial-advanced">
                        <p><strong>🎯 Click Interactions:</strong> Click Pascal numbers, chart bars, and terms</p>
                        <p><strong>🖱️ Drag to Scrub:</strong> Drag the power slider for smooth transitions</p>
                        <p><strong>📊 Performance Monitor:</strong> Check FPS and calculation times at the bottom</p>
                        <p><strong>🔄 Tab Switching:</strong> Each tab remembers your settings</p>
                        <p><strong>📐 Mathematical Accuracy:</strong> All calculations use precise algorithms</p>
                    </div>
                    <p>🎓 <em>You're now ready to explore the beautiful world of binomial expansions!</em></p>
                </div>
            </div>
            <div class="tutorial-navigation">
                <button class="btn-secondary" id="tutorialPrev">Previous</button>
                <span class="tutorial-progress" id="tutorialProgress">1 / 8</span>
                <button class="btn-primary" id="tutorialNext">Next</button>
            </div>
        </div>
    </div>

    <div class="container">
        <header class="hero-section">
            <h1 class="title">Binomial Expansion Visualizer</h1>
            <p class="subtitle">Explore the beauty of (a + b)ⁿ through interactive mathematics</p>
            <button class="btn-secondary tutorial-trigger" id="startTutorial">Start Tutorial</button>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" data-tab="2d">2D Visualization</button>
            <button class="tab-button" data-tab="3d">3D Surface Plot</button>
            <button class="tab-button" data-tab="steps">Step-by-Step</button>
        </div>

        <div class="main-content">
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="controls-group">
                    <h3>Expression Parameters</h3>
                    
                    <div class="input-group">
                        <label for="powerN">Power (n):</label>
                        <input type="range" id="powerN" min="0" max="12" value="4" class="slider" data-tooltip="Drag to change power">
                        <span class="value-display" id="powerValue">4</span>
                    </div>

                    <div class="input-group">
                        <label for="coeffA">Coefficient a:</label>
                        <input type="range" id="coeffA" min="-5" max="5" step="0.1" value="1" class="slider">
                        <span class="value-display" id="coeffAValue">1</span>
                    </div>

                    <div class="input-group">
                        <label for="coeffB">Coefficient b:</label>
                        <input type="range" id="coeffB" min="-5" max="5" step="0.1" value="1" class="slider">
                        <span class="value-display" id="coeffBValue">1</span>
                    </div>

                    <div class="input-group">
                        <label for="xValue">Evaluate at x:</label>
                        <input type="range" id="xValue" min="-3" max="3" step="0.1" value="1" class="slider">
                        <span class="value-display" id="xValueDisplay">1</span>
                    </div>

                    <div class="checkbox-group">
                        <label>
                            <input type="checkbox" id="showPascal" checked>
                            Show Pascal's Triangle
                        </label>
                        <label>
                            <input type="checkbox" id="animateExpansion" checked>
                            Animate Terms
                        </label>
                        <label>
                            <input type="checkbox" id="enableParticles">
                            Particle Effects
                        </label>
                        <label>
                            <input type="checkbox" id="stepByStepMode">
                            Step-by-Step Mode
                        </label>
                    </div>

                    <div class="animation-controls">
                        <h4>Animation Speed</h4>
                        <input type="range" id="animationSpeed" min="0.5" max="3" step="0.1" value="1" class="slider">
                        <span class="value-display" id="speedValue">1x</span>
                    </div>
                </div>
            </div>

            <!-- Tab Content Areas -->
            <div class="tab-content active" data-tab="2d">
                <div class="visualization-area">
                    <div class="expression-display">
                        <div class="current-expression" id="currentExpression"></div>
                        <div class="expanded-form" id="expandedForm"></div>
                        <div class="numerical-result" id="numericalResult"></div>
                    </div>

                    <div class="visual-container">
                        <div class="chart-section">
                            <canvas id="coefficientsChart"></canvas>
                        </div>
                        
                        <div class="pascal-section" id="pascalTriangle"></div>
                    </div>

                    <div class="terms-breakdown" id="termsBreakdown"></div>
                </div>
            </div>

            <div class="tab-content" data-tab="3d">
                <div class="visualization-area">
                    <div class="expression-display">
                        <div class="current-expression" id="currentExpression3D"></div>
                        <div class="surface-info">
                            <p>Interactive 3D surface showing binomial coefficients across different powers</p>
                            <div class="surface-controls">
                                <button class="btn-secondary" id="resetCamera">Reset View</button>
                                <button class="btn-secondary" id="autoRotate">Auto Rotate</button>
                            </div>
                        </div>
                    </div>
                    <div class="threejs-container" id="threejsContainer"></div>
                </div>
            </div>

            <div class="tab-content" data-tab="steps">
                <div class="visualization-area">
                    <div class="expression-display">
                        <div class="current-expression" id="currentExpressionSteps"></div>
                        <div class="step-controls">
                            <button class="btn-secondary" id="prevStep">← Previous</button>
                            <span class="step-indicator" id="stepIndicator">Step 1 of 5</span>
                            <button class="btn-primary" id="nextStep">Next →</button>
                        </div>
                    </div>
                    <div class="steps-container" id="stepsContainer"></div>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <h3>About Binomial Expansion</h3>
            <p>The binomial theorem describes the algebraic expansion of powers of a binomial. According to the theorem:</p>
            <div class="formula-display" id="generalFormula"></div>
            <p>Where C(n,k) represents the binomial coefficients, also known as "n choose k".</p>
            
            <div class="performance-info" id="performanceInfo">
                <small>Performance: <span id="fpsCounter">60 FPS</span> | Calculations: <span id="calcTime">0ms</span></small>
            </div>
        </div>
    </div>

    <!-- Particle Canvas -->
    <canvas id="particleCanvas" class="particle-canvas"></canvas>

    <!-- Error Boundary -->
    <div class="error-boundary" id="errorBoundary" style="display: none;">
        <div class="error-content">
            <h3>⚠️ Something went wrong</h3>
            <p id="errorMessage">An unexpected error occurred. Please refresh the page.</p>
            <button class="btn-primary" onclick="location.reload()">Refresh Page</button>
        </div>
    </div>

</body>
</html>